<!DOCTYPE html>
<html>

<head>
  <title>DOM Projects</title>
  <style>
    .subscribe-button {
      background-color: black;
      border: none;
      color: white;
      padding: 10px;
      padding-left: 15px;
      padding-right: 15px;
      font-weight: bold;
      border-radius: 20px;
      cursor: pointer;


    }

    .is-subscribe {
      background-color: gray;
      color: black;
    }
  </style>
</head>

<body>

  <p>
    Youtube Subscribe Button
  </p>

  <button class="js-subscribe-button subscribe-button" onclick="
    subscribe();
  ">
    Subscribe
  </button>
  <!--
  -Make sure that the Subscribe doesn't have spaces or new line
  -Can't use class in both Javascript and CSS, that's why we have two classes in subscribe button. 1 for CSS, 1 for JS.
  -->

  <p>Amazon Shipping Calculator</p>

  <input placeholder="Cost of order" class="js-costInput">
  <!-- 
  -Cost of order does not stored as HTML, it's stored as value.
  -onkeydown="console.log('typing');"" let us see if someone is typing in the console.
  - onkeydown is an Object provided by Javascript
  -onkeydown="handleCostKeyDown()" - not practical because you have to manually pass events.
  -->

  <button onclick="calculateTotal()
  ">Calculate</button>

  <p class="js-totalCost"></p>


  <script>
    String(25) // converts number into string
    //Example of type coercion, not recommended to use in math because addition works differently.
    console.log('25' + 5);

    /*
    -Window is a built-in feature in Javascript, it's everything you see in the browser.
    -We don't have to use window. everytime we use a document, console, alert, etc. because Javascript does it in the background:

    window.document
    window.console.log('window');
    window.alert

    but it's nice to know how it works in the background.
*/

    document.querySelector('.js-costInput')
      .addEventListener('keydown', handleCostKeyDown);

    //onclick and onkeydown = event listeners. clicks and keydowns = events
    //keydown is a type of event, handleCostKeyDown is a function to run after a key is pressed.
    //The browser passes event automatically, more practical.


    function handleCostKeyDown(event) {
      console.log(event.key);
      if (event.key === 'Enter') {
        calculateTotal();
      }
      //Event Listener creates the event Object, but your function wonâ€™t receive it unless you accept it as a parameter. That's why you need to put parameter which is the (event)
      //event doesn't exist inside the function. So we need to put a parameter to put the event object inside the function. (Put a value inside a function)

    }

    function calculateTotal() {
      const inputElement = document.querySelector('.js-costInput'); //get the input
      //Whenever we geta value from DOM, the value will always be a string.
      //A confirmation that we have the class.
      let cost = Number(inputElement.value); //Converts string valaue into number using Number() function.
      //Get the text inside the text box. 
      //Input element does not have HTML inside because they're self closing tag(void element) so use .value instead of .innerHTML
      //they are stored as value.


      if (cost < 40) {
        cost = cost + 10;
      }

      document.querySelector('.js-totalCost')
        .innerHTML = `$${cost}`

    }

    function subscribe() {
      const buttonElement = (document.querySelector('.js-subscribe-button'));
      //Put the button inside Javascript

      if (buttonElement.innerText === 'Subscribe') {
        buttonElement.innerHTML = 'Subscribed';
        buttonElement.classList.add('is-subscribe');
        //adds class inside an element.
      } else {
        buttonElement.innerHTML = 'Subscribe';
      }
    }




    /*
    -Inline events only allow one handler per event.
    - Document Object represents the webpage.
    -Window object represents the browser.
    -  .classList gives is control of the class attribute
    */
  </script>

</body>

</html>